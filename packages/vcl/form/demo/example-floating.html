<form class="form">
  <!-- input field -->
  <div id="fcg-input" class="form-control-group floating-label">
    <label for="form_material1">
      <!-- <span class="form-control-label-spacer"></span> -->
      Label
      <em class="required-indicator">•</em>
    </label>
    <div class="input-field">
      <input id="form_material1" class="input" type="text" value="">
    </div>
    <span class="form-control-hint">Form Control Hint</span>
  </div>

  <!-- input field with prep icon -->
  <div id="fcg-input-prep-icon" class="form-control-group floating-label">
    <label for="form_material1">
      <!-- <span class="form-control-label-spacer"></span> -->
      Label
      <em class="required-indicator">•</em>
    </label>
    <div class="input-field">
      <div class="icon fas fa-search"></div>
      <input id="form_material1" class="input" type="text" value="">
    </div>
    <span class="form-control-hint">Form Control Hint</span>
  </div>

  <!-- textarea -->
  <div id="fcg-input-textarea" class="form-control-group floating-label">
    <label for="form_material1">
      <!-- <span class="form-control-label-spacer"></span> -->
      Label
      <em class="required-indicator">•</em>
    </label>
    <div class="input-field">
      <textarea id="form_material1" class="input"></textarea>
    </div>
    <span class="form-control-hint">Form Control Hint</span>
  </div>

  <!-- select field -->
  <!-- <div id="fcg-input-select" class="form-control-group floating-label">
    <label for="form_material1">
      Label
      <em class="required-indicator">•</em>
    </label>
    <div class="select" role="listbox">
      <input class="input app-item readonly" role="listbox" value="dsa" readonly>
      <button type="button" tabindex="-1" touch-action="none" class="square button">
        <div class="icogram">
          <span role="img" class="icon fas fa-chevron-down"></span>
        </div>
      </button>
    </div>
    <span class="form-control-hint">Form Control Hint</span>
  </div> -->

  
  <!-- token-input field -->
  <!-- <div id="fcg-input-token-input" class="form-control-group floating-label">
    <label for="form_material1">
      Label
      <em class="required-indicator">•</em>
    </label>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <div class="token-input" role="combobox" aria-expanded="false" aria-haspopup="true" aria-autocomplete="list" aria-owns="id-of-corresponding-dropdown">
      <div class="token-container">
        <div class="token">
          <span class="token-label">blue</span>
        </div>
    
        <div class="token">
          <span class="token-label">red</span>
          <button type="button" class="button transparent" tabindex="-1">
            <div class="icogram">
              <div class="icon fas fa-times" aria-hidden="true" aria-label="remove" role="img"></div>
            </div>
          </button>
        </div>
      </div>
    
      <input class="input" placeholder="Type to add tokens" autocomplete="off" type="text">
    </div>
    <span class="form-control-hint">Form Control Hint</span>
  </div> -->


</form>


<script>

    function registerInputFieldListeners(fcg) {
      const label = fcg.querySelector('label');
      const inputField = fcg.querySelector('.input-field');
      const input = inputField.querySelector('.input');
      
      input.addEventListener('focus', () => {
        inputField.classList.add('focused');
        fcg.classList.add('focused');
      })
      input.addEventListener('blur', () => {
        inputField.classList.remove('focused');
        fcg.classList.remove('focused');
      });

      function checkValue() {
        if (typeof input.value === 'string' && input.value.length > 0){
          fcg.classList.add('has-value');
        } else {
          fcg.classList.remove('has-value');
        }
      }

      input.addEventListener('input', checkValue);

      let current = input;
      let offset = 0;
      while(current =  current.previousElementSibling) {
        offset += current.offsetWidth;
      }

      label.style.setProperty('--label-offset-x', `${offset}px`);

      checkValue();
    }



    registerInputFieldListeners(document.querySelector('#fcg-input'));
    registerInputFieldListeners(document.querySelector('#fcg-input-prep-icon'));
    registerInputFieldListeners(document.querySelector('#fcg-input-textarea'));

    // const fcgInputSelect = document.querySelector('#fcg-input-select');
    // const fcgInputTokenInput = document.querySelector('#fcg-input-token-input');

    // addFloatingListeneres(fcgInputSelect);
    // addFloatingListeneres(fcgInputTokenInput);

</script>
